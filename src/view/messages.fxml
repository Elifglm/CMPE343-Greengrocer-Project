<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="controller.MessagesController"
            prefWidth="900" prefHeight="650"
            style="-fx-background-color: linear-gradient(to bottom right, #0F172A, #1E293B);">

    <!-- Header -->
    <top>
        <HBox spacing="16" alignment="CENTER_LEFT"
              style="-fx-background-color: rgba(255, 255, 255, 0.03); -fx-border-color: transparent transparent rgba(255, 255, 255, 0.08) transparent; -fx-border-width: 0 0 1 0; -fx-padding: 20 32;">
            <Label text="âœ‰ï¸" style="-fx-font-size: 28;"/>
            <VBox spacing="2">
                <Label fx:id="titleLabel" text="Messages" 
                       style="-fx-font-size: 20; -fx-font-weight: 700; -fx-text-fill: #FFFFFF;"/>
                <Label text="Contact store support" 
                       style="-fx-font-size: 13; -fx-text-fill: rgba(255, 255, 255, 0.5);"/>
            </VBox>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="â†» Refresh" onAction="#handleRefresh"
                    style="-fx-background-color: rgba(255, 255, 255, 0.06); -fx-text-fill: #E2E8F0; -fx-border-color: rgba(255, 255, 255, 0.1); -fx-border-width: 1; -fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 10 20; -fx-cursor: hand;"/>
            <Button text="â† Close" onAction="#handleClose"
                    style="-fx-background-color: transparent; -fx-text-fill: rgba(255, 255, 255, 0.5); -fx-font-weight: 500; -fx-cursor: hand;"/>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <HBox spacing="24" style="-fx-padding: 24 32;">
            
            <!-- Left Panel - Message Lists -->
            <VBox spacing="16" HBox.hgrow="ALWAYS"
                  style="-fx-background-color: rgba(255, 255, 255, 0.04); -fx-background-radius: 16; -fx-border-radius: 16; -fx-border-color: rgba(255, 255, 255, 0.08); -fx-padding: 20;">
                
                <Label text="ðŸ“¥ Inbox" style="-fx-font-size: 15; -fx-font-weight: 600; -fx-text-fill: #FFFFFF;"/>
                <TableView fx:id="inboxTable" prefHeight="200" style="-fx-background-color: transparent;">
                    <columns>
                        <TableColumn fx:id="inFromCol" text="From" prefWidth="120"/>
                        <TableColumn fx:id="inSubjectCol" text="Subject" prefWidth="200"/>
                        <TableColumn fx:id="inDateCol" text="Date" prefWidth="140"/>
                    </columns>
                </TableView>
                
                <Separator style="-fx-background-color: rgba(255, 255, 255, 0.1);"/>
                
                <Label text="ðŸ“¤ Sent" style="-fx-font-size: 15; -fx-font-weight: 600; -fx-text-fill: #FFFFFF;"/>
                <TableView fx:id="sentTable" prefHeight="150" style="-fx-background-color: transparent;">
                    <columns>
                        <TableColumn fx:id="sentToCol" text="To" prefWidth="120"/>
                        <TableColumn fx:id="sentSubjectCol" text="Subject" prefWidth="200"/>
                        <TableColumn fx:id="sentDateCol" text="Date" prefWidth="140"/>
                    </columns>
                </TableView>
                
                <Label fx:id="msgInfoLabel" text="" style="-fx-font-size: 12; -fx-text-fill: #10B981;"/>
            </VBox>
            
            <!-- Right Panel - Message View & Compose -->
            <VBox spacing="16" prefWidth="380">
                
                <!-- Message View -->
                <VBox spacing="12" VBox.vgrow="ALWAYS"
                      style="-fx-background-color: rgba(255, 255, 255, 0.04); -fx-background-radius: 16; -fx-border-radius: 16; -fx-border-color: rgba(255, 255, 255, 0.08); -fx-padding: 20;">
                    <Label text="Message" style="-fx-font-size: 15; -fx-font-weight: 600; -fx-text-fill: #FFFFFF;"/>
                    
                    <VBox spacing="4">
                        <Label fx:id="msgFromLabel" text="Select a message" style="-fx-font-weight: 500; -fx-text-fill: #E2E8F0;"/>
                        <Label fx:id="msgSubjectLabel" text="" style="-fx-text-fill: rgba(255, 255, 255, 0.6);"/>
                        <Label fx:id="msgDateLabel" text="" style="-fx-font-size: 11; -fx-text-fill: rgba(255, 255, 255, 0.4);"/>
                    </VBox>
                    
                    <Separator style="-fx-background-color: rgba(255, 255, 255, 0.1);"/>
                    
                    <TextArea fx:id="msgContentArea" VBox.vgrow="ALWAYS" 
                              editable="false" wrapText="true"
                              style="-fx-background-color: rgba(255, 255, 255, 0.03); -fx-text-fill: #E2E8F0;"/>
                    
                    <HBox spacing="12">
                        <Button text="Reply" onAction="#handleReply" prefWidth="100"
                                style="-fx-background-color: linear-gradient(to right, #2D7A4F, #10B981); -fx-text-fill: white; -fx-font-weight: 600; -fx-background-radius: 10; -fx-padding: 10 20; -fx-cursor: hand;"/>
                        <Button text="+ New Message" onAction="#handleNewMessage"
                                style="-fx-background-color: rgba(255, 255, 255, 0.06); -fx-text-fill: #E2E8F0; -fx-border-color: rgba(255, 255, 255, 0.1); -fx-border-width: 1; -fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 10 16; -fx-cursor: hand;"/>
                    </HBox>
                </VBox>
                
            </VBox>
            
        </HBox>
    </center>

</BorderPane>
