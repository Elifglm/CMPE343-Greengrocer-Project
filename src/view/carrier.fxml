<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="controller.CarrierController"
            prefWidth="1200" prefHeight="800"
            style="-fx-background-color: linear-gradient(to bottom right, #0F172A, #1E293B);">

    <!-- Header -->
    <top>
        <HBox spacing="16" alignment="CENTER_LEFT"
              style="-fx-background-color: rgba(255, 255, 255, 0.03); -fx-border-color: transparent transparent rgba(255, 255, 255, 0.08) transparent; -fx-border-width: 0 0 1 0; -fx-padding: 16 32;">
            <Label text="ðŸšš" style="-fx-font-size: 28;"/>
            <VBox spacing="2">
                <Label fx:id="usernameLabel" text="Carrier Dashboard" 
                       style="-fx-font-size: 20; -fx-font-weight: 700; -fx-text-fill: #FFFFFF;"/>
                <Label fx:id="ratingLabel" text="Loading..." 
                       style="-fx-font-size: 13; -fx-text-fill: rgba(255, 255, 255, 0.5);"/>
            </VBox>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="â†» Refresh" onAction="#handleRefresh"
                    style="-fx-background-color: rgba(255, 255, 255, 0.06); -fx-text-fill: #E2E8F0; -fx-border-color: rgba(255, 255, 255, 0.1); -fx-border-width: 1; -fx-background-radius: 10; -fx-border-radius: 10; -fx-padding: 10 20; -fx-cursor: hand;"/>
            <Button text="Logout" onAction="#handleLogout"
                    style="-fx-background-color: transparent; -fx-text-fill: #F87171; -fx-font-weight: 500; -fx-cursor: hand;"/>
        </HBox>
    </top>

    <!-- Main Content -->
    <center>
        <HBox spacing="24" style="-fx-padding: 24 32;">
            
            <!-- Left Column -->
            <VBox spacing="20" HBox.hgrow="ALWAYS">
                
                <!-- Available Orders -->
                <VBox spacing="12" VBox.vgrow="ALWAYS"
                      style="-fx-background-color: rgba(255, 255, 255, 0.04); -fx-background-radius: 16; -fx-border-radius: 16; -fx-border-color: rgba(255, 255, 255, 0.08); -fx-padding: 20;">
                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Label text="ðŸ“‹ Available Orders" style="-fx-font-size: 16; -fx-font-weight: 600; -fx-text-fill: #FFFFFF;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="availableInfoLabel" text="" style="-fx-font-size: 12; -fx-text-fill: rgba(255, 255, 255, 0.5);"/>
                    </HBox>
                    
                    <TableView fx:id="availableTable" VBox.vgrow="ALWAYS"
                               style="-fx-background-color: transparent;">
                        <columns>
                            <TableColumn fx:id="avIdCol" text="Order #" prefWidth="70"/>
                            <TableColumn fx:id="avCustomerCol" text="Customer" prefWidth="120"/>
                            <TableColumn fx:id="avAddressCol" text="Address" prefWidth="200"/>
                            <TableColumn fx:id="avTotalCol" text="Total" prefWidth="100"/>
                            <TableColumn fx:id="avDeliveryCol" text="Requested" prefWidth="140"/>
                        </columns>
                    </TableView>
                    
                    <Button text="âœ“ Take Order" onAction="#handleTakeOrder"
                            style="-fx-background-color: linear-gradient(to right, #2D7A4F, #10B981); -fx-text-fill: white; -fx-font-weight: 600; -fx-background-radius: 10; -fx-padding: 12 28; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(16, 185, 129, 0.3), 8, 0, 0, 2);"/>
                </VBox>
                
                <!-- In Progress -->
                <VBox spacing="12" VBox.vgrow="ALWAYS"
                      style="-fx-background-color: rgba(245, 158, 11, 0.08); -fx-background-radius: 16; -fx-border-radius: 16; -fx-border-color: rgba(245, 158, 11, 0.3); -fx-border-width: 1; -fx-padding: 20;">
                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Label text="ðŸ”„ In Progress" style="-fx-font-size: 16; -fx-font-weight: 600; -fx-text-fill: #FBBF24;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="currentInfoLabel" text="" style="-fx-font-size: 12; -fx-text-fill: rgba(255, 255, 255, 0.5);"/>
                    </HBox>
                    
                    <TableView fx:id="currentTable" VBox.vgrow="ALWAYS"
                               style="-fx-background-color: transparent;">
                        <columns>
                            <TableColumn fx:id="curIdCol" text="Order #" prefWidth="70"/>
                            <TableColumn fx:id="curCustomerCol" text="Customer" prefWidth="120"/>
                            <TableColumn fx:id="curAddressCol" text="Address" prefWidth="200"/>
                            <TableColumn fx:id="curDeliveryCol" text="Delivery" prefWidth="140"/>
                        </columns>
                    </TableView>
                    
                    <Button text="âœ“ Mark Delivered" onAction="#handleMarkDelivered"
                            style="-fx-background-color: linear-gradient(to right, #D97706, #F59E0B); -fx-text-fill: white; -fx-font-weight: 600; -fx-background-radius: 10; -fx-padding: 12 28; -fx-cursor: hand;"/>
                </VBox>
                
            </VBox>

            <!-- Right Column -->
            <VBox spacing="20" prefWidth="380">
                
                <!-- Order Details -->
                <VBox spacing="16"
                      style="-fx-background-color: rgba(255, 255, 255, 0.04); -fx-background-radius: 16; -fx-border-radius: 16; -fx-border-color: rgba(255, 255, 255, 0.08); -fx-padding: 20;">
                    <Label text="Order Details" style="-fx-font-size: 16; -fx-font-weight: 600; -fx-text-fill: #FFFFFF;"/>
                    
                    <VBox spacing="8">
                        <Label fx:id="detailCustomerLabel" text="Select an order" style="-fx-font-weight: 500; -fx-text-fill: #E2E8F0;"/>
                        <Label fx:id="detailAddressLabel" text="" wrapText="true" style="-fx-text-fill: rgba(255, 255, 255, 0.6);"/>
                        <Label fx:id="detailPhoneLabel" text="" style="-fx-text-fill: rgba(255, 255, 255, 0.6);"/>
                        <Label fx:id="detailDeliveryLabel" text="" style="-fx-text-fill: rgba(255, 255, 255, 0.6);"/>
                        <Label fx:id="detailTotalLabel" text="" style="-fx-font-weight: 600; -fx-text-fill: #10B981;"/>
                    </VBox>
                    
                    <Separator style="-fx-background-color: rgba(255, 255, 255, 0.1);"/>
                    
                    <Label text="Products:" style="-fx-font-weight: 500; -fx-text-fill: rgba(255, 255, 255, 0.7);"/>
                    <ListView fx:id="detailProductsList" prefHeight="120"
                              style="-fx-background-color: rgba(255, 255, 255, 0.03); -fx-background-radius: 8;"/>
                </VBox>
                
                <!-- Completed Orders -->
                <VBox spacing="12" VBox.vgrow="ALWAYS"
                      style="-fx-background-color: rgba(16, 185, 129, 0.08); -fx-background-radius: 16; -fx-border-radius: 16; -fx-border-color: rgba(16, 185, 129, 0.3); -fx-border-width: 1; -fx-padding: 20;">
                    <HBox spacing="12" alignment="CENTER_LEFT">
                        <Label text="âœ… Completed" style="-fx-font-size: 16; -fx-font-weight: 600; -fx-text-fill: #10B981;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Label fx:id="completedInfoLabel" text="" style="-fx-font-size: 12; -fx-text-fill: rgba(255, 255, 255, 0.5);"/>
                    </HBox>
                    
                    <TableView fx:id="completedTable" VBox.vgrow="ALWAYS"
                               style="-fx-background-color: transparent;">
                        <columns>
                            <TableColumn fx:id="compIdCol" text="Order #" prefWidth="80"/>
                            <TableColumn fx:id="compCustomerCol" text="Customer" prefWidth="130"/>
                            <TableColumn fx:id="compTotalCol" text="Total" prefWidth="100"/>
                        </columns>
                    </TableView>
                </VBox>
                
            </VBox>
            
        </HBox>
    </center>

</BorderPane>
